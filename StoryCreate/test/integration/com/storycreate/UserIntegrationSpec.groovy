package com.storycreate



import spock.lang.*

/**
 *
 */
class UserIntegrationSpec extends Specification {

//    def setup() {
//		def adminUser = new User(username:"admin", password: "password").save(failOnError:true)
//		def userUser = new User(username:"joe", password: "password").save(failOnError:true)
//		def user2User = new User(username:"jane", password: "password").save(failOnError:true)
//		def user3User = new User(username:"bill", password: "password").save(failOnError:true, flush: true)
//		def adminRole = new Role(authority: "ROLE_admin").save(failOnError: true)
//		def userRole = new Role(authority: "ROLE_user").save(failOnError: true)
//		new UserRole(user: adminUser, role: adminRole).save(failOnError:true)
//		new UserRole(user: userUser, role: userRole).save(failOnError:true)
//		new UserRole(user: user2User, role: userRole).save(failOnError:true)
//		new UserRole(user: user3User, role: userRole).save(failOnError:true, flush:true)
//    }
//
//    def cleanup() {
//    }
//
//    void "test something"() {
//		given: "Users created from setup"
//		def adminUser = User.where { username == "admin" }.get()
//		def userUser = User.where { username == "joe" }.get()
//		def adminRole = Role.findByAuthority("ROLE_admin")
//		
//		expect: "getting their Role"
//		adminUser.authorities.contains {adminRole}
//    }
}
